<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>VitePress 设置路径别名 | 六文銭</title>
    <meta name="description" content="前端技术博客">
    <link rel="stylesheet" href="/code/assets/style.a4066c73.css">
    <link rel="modulepreload" href="/code/assets/Home.4b3b2ae3.js">
    <link rel="modulepreload" href="/code/assets/app.d29ee421.js">
    <link rel="modulepreload" href="/code/assets/tools_vitepress_alias.md.f156bd8c.lean.js">
    <link rel="modulepreload" href="/code/assets/app.d29ee421.js">
    <meta name="twitter:title" content="VitePress 设置路径别名 | 六文銭">
    <meta property="og:title" content="VitePress 设置路径别名 | 六文銭">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/code/" aria-label="六文銭, back to home" data-v-675d8756 data-v-4a583abe><!----> 六文銭</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/code/" data-v-b8818f8c>UI <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/code/tools/vitepress/alias" data-v-b8818f8c>工具 <!----></a></div></div><!--]--><!----><!----></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/code/" data-v-b8818f8c>UI <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/code/tools/vitepress/alias" data-v-b8818f8c>工具 <!----></a></div></div><!--]--><!----><!----></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><p class="sidebar-link-item">VitePress</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item active" href="/code/tools/vitepress/alias">设置路径别名</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#背景">背景</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#目标">目标</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#设置别名">设置别名</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#如何配置">如何配置</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#在哪配置">在哪配置</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#参考资料">参考资料</a><!----></li></ul></li></ul></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h1 id="vitepress-设置路径别名" tabindex="-1">VitePress 设置路径别名 <a class="header-anchor" href="#vitepress-设置路径别名" aria-hidden="true">#</a></h1><h2 id="背景" tabindex="-1">背景 <a class="header-anchor" href="#背景" aria-hidden="true">#</a></h2><p>之前在使用 webpack 开发的时候可以为当前项目中的任意常用文件夹设置别名（alias），例如最常见的是在使用 Vue CLI 时，直接可以用 <code>@</code> 表示项目下的 <code>src</code> 文件夹。在编辑 VitePress 文档的过程中，由于需要引入自定义的 Vue 组件，涉及到了路径的问题。一开始使用的是相对路径，但是当项目重新调整结构的时候就需要也重新调整对应的路径，非常麻烦。</p><h2 id="目标" tabindex="-1">目标 <a class="header-anchor" href="#目标" aria-hidden="true">#</a></h2><p>在 VitePress 项目中使用别名</p><h2 id="设置别名" tabindex="-1">设置别名 <a class="header-anchor" href="#设置别名" aria-hidden="true">#</a></h2><p>由于第一我没有深入使用过 Vite，因此不知道如何配置别名，第二 VitePress 下还没有 <code>vite.config.js</code> 配置文件，也不知道在哪里配置。</p><h3 id="如何配置" tabindex="-1">如何配置 <a class="header-anchor" href="#如何配置" aria-hidden="true">#</a></h3><p>一开始在 stackoverflow 上找到了针对 Vite 的配置，后来才在 Vite 的官网上找到<a href="https://vitejs.dev/config/#resolve-alias" target="_blank" rel="noopener noreferrer">对应的说明</a>。</p><h3 id="在哪配置" tabindex="-1">在哪配置 <a class="header-anchor" href="#在哪配置" aria-hidden="true">#</a></h3><p>一开始以为也是在项目根目录中创建一个 <code>vite.config.js</code> 文件，但是在官网上没有找到这个说法，配置文件只有 <code>.vitepress/config.js</code> 这一个。直接把 <code>alias</code> 的配置项放到文件中是没有生效的。后来在 <a href="https://github.com/vuejs/vitepress/blob/main/CHANGELOG.md" target="_blank" rel="noopener noreferrer">Vite CHANGELOG</a> 里面找到了蛛丝马迹。</p><blockquote><p>alias option has been removed. Use vite.resovle.alias instead.</p></blockquote><p>于是最终的配置如下：</p><div class="language-javascript"><pre><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  vite<span class="token operator">:</span> <span class="token punctuation">{</span>
    resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
      alias<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&#39;@&#39;</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;../../&#39;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这里还有一个需要注意点的，<code>__dirname</code> 表示的是当前这个配置文件所在的文件夹，即 <code>/docs/.vitepress</code>，所以要定位到根目录还需要向上找两级目录。</p><h2 id="参考资料" tabindex="-1">参考资料 <a class="header-anchor" href="#参考资料" aria-hidden="true">#</a></h2><ul><li><a href="https://vitejs.dev/config/#resolve-alias" target="_blank" rel="noopener noreferrer">Vite - Config</a></li><li><a href="https://github.com/vuejs/vitepress/blob/main/CHANGELOG.md" target="_blank" rel="noopener noreferrer">Vite CHANGELOG</a></li></ul></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><!----></div></div><div class="updated" data-v-fb8d84c6><!----></div></footer><!----><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"7d760991\",\"tools_vitepress_alias.md\":\"f156bd8c\",\"ui_animation_flying-birds.md\":\"30da1c9a\",\"ui_animation_ripple-button.md\":\"b2150a5f\"}")</script>
    <script type="module" async src="/code/assets/app.d29ee421.js"></script>
    
  </body>
</html>